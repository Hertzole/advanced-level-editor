"use strict";(self.webpackChunkale_docs=self.webpackChunkale_docs||[]).push([[141],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return m}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),c=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=c(e.components);return a.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(t),m=r,y=p["".concat(l,".").concat(m)]||p[m]||u[m]||o;return t?a.createElement(y,i(i({ref:n},d),{},{components:t})):a.createElement(y,i({ref:n},d))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=p;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},6422:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return d},default:function(){return p}});var a=t(7462),r=t(3366),o=(t(7294),t(3905)),i=["components"],s={sidebar_position:5},l="JSON Serialization",c={unversionedId:"serialization/json-serialization",id:"serialization/json-serialization",title:"JSON Serialization",description:"JSON support is currently provided by MessagePack for C# and while",source:"@site/docs/serialization/json-serialization.md",sourceDirName:"serialization",slug:"/serialization/json-serialization",permalink:"/advanced-level-editor/docs/serialization/json-serialization",editUrl:"https://github.com/hertzole/advanced-level-editor/tree/master/docs/docs/serialization/json-serialization.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Custom Types",permalink:"/advanced-level-editor/docs/serialization/custom-types"}},d=[{value:"Reasons to avoid JSON",id:"reasons-to-avoid-json",children:[{value:"Some data can not be deserialized",id:"some-data-can-not-be-deserialized",children:[],level:4},{value:"It&#39;s not very readable anyways",id:"its-not-very-readable-anyways",children:[],level:4}],level:2}],u={toc:d};function p(e){var n=e.components,t=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"json-serialization"},"JSON Serialization"),(0,o.kt)("p",null,"JSON support is currently provided by ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/neuecc/MessagePack-CSharp"},"MessagePack for C#")," and while\nMessagePack ",(0,o.kt)("em",{parentName:"p"},"technically")," supports it, it's far from ideal. I highly recommend you only use JSON for debugging\npurposes. Hopefully, some time in the future, I can provide a better JSON solution."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"As of right now, JSON support should be considered experimental!"))),(0,o.kt)("h2",{id:"reasons-to-avoid-json"},"Reasons to avoid JSON"),(0,o.kt)("h4",{id:"some-data-can-not-be-deserialized"},"Some data can not be deserialized"),(0,o.kt)("p",null,"Sometimes data that has been serialized with JSON can not be deserialized. I can not say exactly what data can and can\nnot be converted back and forth. Just use JSON saving at your own discretion! "),(0,o.kt)("h4",{id:"its-not-very-readable-anyways"},"It's not very readable anyways"),(0,o.kt)("p",null,'JSON is meant to be human readable, and while this JSON is readable, it can be very hard to understand. Due to the JSON\nserializer having to share the same space as the binary one, a lot of "fluff data" (like node names) are completely\nskipped, and some strings are even hashed to numbers in order to take up a lot less space in binary.'),(0,o.kt)("details",null,(0,o.kt)("summary",null,"JSON comparison"),(0,o.kt)("p",null,"Here is a good looking example of what ALE should ideally generate.",(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "SaveVersion": 1,\n    "Name": "JSON Example",\n    "Objects": [\n        {\n            "Name": "Cube",\n            "Active": true,\n            "ID": "cube",\n            "InstanceID": 1,\n            "Components": [\n                {\n                    "Type": "UnityEngine.Transform",\n                    "Properties": [\n                        {\n                            "ID": 0,\n                            "Value": {\n                                "x": 5,\n                                "y": 4,\n                                "z": 3\n                            }\n                        },\n                        {\n                            "ID": 1,\n                            "Value": {\n                                "x": 0,\n                                "y": 0,\n                                "z": 0\n                            }\n                        },\n                        {\n                            "ID": 2,\n                            "Value": {\n                                "x": 0,\n                                "y": 0,\n                                "z": 0\n                            }\n                        },                        \n                        {\n                            "ID": 1,\n                            "Value": null\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    "CustomData": {\n        "time": {\n            "Type": "Hertzole.ALE.Example.SaveData",\n            "Properties": [\n                {\n                    "message": "Hello! This level was saved with the number {0}!"\n                },\n                {\n                    "number": -269548\n                }\n            ]\n        }\n    }\n}\n')),(0,o.kt)("p",null,"Very readable and clean. A bit wordy sure, but readable. Perfect for debugging purposes!"),(0,o.kt)("p",null,"But here's what it actually generates..."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[\n    1,\n    "JSON Example",\n    [\n        [\n            "Cube",\n            true,\n            24305868,\n            1,\n            [\n                [\n                    505582686,\n                    [\n                        0,\n                        [\n                            5,\n                            4,\n                            3\n                        ],\n                        1,\n                        [\n                            0,\n                            0,\n                            0\n                        ],\n                        2,\n                        [\n                            1,\n                            1,\n                            1\n                        ],\n                        3,\n                        null\n                    ]\n                ]\n            ]\n        ]\n    ],\n    {\n        "time": [\n            371764105,\n            [\n                -1910110192,\n                "Hello! This level was saved with the number {0}!",\n                -2096615904,\n                -269548\n            ]\n        ]\n    }\n]\n')))))}p.isMDXComponent=!0}}]);